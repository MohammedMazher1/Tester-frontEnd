<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/normalize.css">
    <link rel="stylesheet" href="assets/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/addQuestion.css">
    <title>Tester</title>
</head>
<body>
  <header class="header">
    <div class="container">
        <nav>
          <div>
            <i class="fa-solid fa-circle-arrow-right"></i>
          </div>
          <div>
            <h3>HTML</h3>
          </div>
          <div class="links">
            <div>
              <i class="fa fa-user"></i>
              <span>محمد مزهر</span>
            </div>
            <div>
              <span>تسجيل الخروج</span>
              <i class="fa-solid fa-right-from-bracket"></i>
            </div>
          </div>
        </nav>
    </div>
</header>
  <!-- end header  -->
  <!-- start main -->
  <main>
      <section class="questions" dir="ltr">
        <div class="back"></div>
        <div class="question" >
          <input type="text" class="questionInput" placeholder="اكتب سوالك هنا ..." name="q" value="">
          <ul class="options-list">
            <li>
              <label for="q1-firstOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q1-firstOption" name="q1-Option" value="HTML">
            </li>
            <li>
              <label for="q1-secondOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q1-secondOption" name="q1-Option" value="HTML">
            </li>
            <li>
              <label for="q1-thirdOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q1-thirdOption" name="q1-Option" value="HTML">
            </li>
            <li>
              <label for="q1-fourthOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q1-fourthOption" name="q1-Option" value="HTML">
            </li>
          </ul>
          <div class="addOptionBtn">
            <span>اضافة خيار</span>
            <i class="fa-solid fa-square-plus"></i>
          </div>
          <div class="icons">
            <i class="fa-solid fa-up-down-left-right"></i>
            <i class="fa-solid fa-trash"></i>
          </div>
          
        </div>
        <div class="question" >
          <input type="text" class="questionInput" placeholder="اكتب سوالك هنا ..." name="q" value="">
          <ul class="options-list">
            <li>
              <label for="q2-firstOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q2-firstOption" name="q2-Option" value="HTML">
            </li>
            <li>
              <label for="q2-secondOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q2-secondOption" name="q2-Option" value="HTML">
            </li>
            <li>
              <label for="q2-thirdOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q2-thirdOption" name="q2-Option" value="HTML">
            </li>
            <li>
              <label for="q2-fourthOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q2-fourthOption" name="q2-Option" value="HTML">
            </li>
          </ul>
          <div class="addOptionBtn">
            <span>اضافة خيار</span>
            <i class="fa-solid fa-square-plus"></i>
          </div>
          <div class="icons">
            <i class="fa-solid fa-up-down-left-right"></i>
            <i class="fa-solid fa-trash"></i>
          </div>
          
        </div>
        <div class="question" >
          <input type="text" class="questionInput" placeholder="اكتب سوالك هنا ..." name="q" value="">
          <ul class="options-list">
            <li>
              <label for="q3-firstOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q3-firstOption" name="q3-Option" value="HTML">
            </li>
            <li>
              <label for="q3-secondOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q3-secondOption" name="q3-Option" value="HTML">
            </li>
            <li>
              <label for="q3-thirdOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q3-thirdOption" name="q3-Option" value="HTML">
            </li>
            <li>
              <label for="q3-fourthOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="q3-fourthOption" name="q3-Option" value="HTML">
            </li>
          </ul>
          <div class="addOptionBtn">
            <span>اضافة خيار</span>
            <i class="fa-solid fa-square-plus"></i>
          </div>
          <div class="icons">
            <i class="fa-solid fa-up-down-left-right"></i>
            <i class="fa-solid fa-trash"></i>
          </div>
          
        </div>
      </section>
      <div class="control">
        <div class="addmore" id="addQuestion">
          <span>اضافة سوال</span>
          <i class="fa-solid fa-square-plus"></i>
        </div>
        <button id="submitTest">إرسال</button>
      </div>
  </main>
  <!-- end main -->
  <!-- start footer  -->
  <footer class="footer">
      <div class="related">
          <div>
              <h3>مواقع مُشابهة</h3>
              <p>https://www.jotform.com/test-maker/</p>
              <p>https://www.typeform.com/test-maker/</p>
              <p>https://www.flexiquiz.com/</p>
          </div>
          <div>
              <img src="assets/img/logo.png" alt="">
              <span class="circule"></span>
          </div>
      </div>
      <div class="icons">
          <div>
              <i class="fa-brands fa-github"></i>
              <p>MohammedMazher1</p>
          </div>
          <div>
              <i class="fa-brands fa-instagram"></i>
              <p>m.din6y</p>
          </div>
          <div>
              <i class="fa-brands fa-whatsapp"></i>
              <p>77653387</p>
          </div>
      </div>
      <div class="copy">
          Mohammed Mazher
          &copy;
      </div>
  </footer>
  <!-- end footer  -->
  <script src="assets/lib/jquery-3.7.1.js"></script>
        <script>
          let questionNo = 4;
         $("#submitTest").click(function() {
              var quizArray = []; // Array to store questions and options

              // Iterate through question containers
              $(".question").each(function() {
                  var question = $(this).find(".questionInput").val();
                  var options = {};

                  // Iterate through options within the current question container
                  $(this).find(".options-list li").each(function () {
                      var optionInput = $(this).find(".optionInput").val();
                      if($(this).find("input[type='radio']").is(':checked')){
                        var radioValue = 'true';
                      }else{
                        var radioValue = 'false';
                      }
                      // var radioValue = $(this).find("input[type='radio']:checked").val();

                      // Add option to options object with radio button value as the key
                      options[optionInput] =radioValue ;
                  });


                  // Create a question object and add it to the quizArray
                  var questionObject = {
                      question: question,
                      options: options
                  };

                  quizArray.push(questionObject);
              });

              // Display the quiz array in the console (you can replace this with your desired logic)
              console.log("Quiz Array:", quizArray);
          });
          
          $("#addQuestion").click(function(){
            $('.questions').append(
              `
              <div class="question" >
                <input type="text" class="questionInput" placeholder="اكتب سوالك هنا ..." name="q" value="">
                <ul class="options-list">
                  <li>
                    <label for="q${questionNo}-firstOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
                    <input type="radio" id="q${questionNo}-firstOption" name="q${questionNo}-firstOption" value="HTML">
                  </li>
                  <li>
                    <label for="q${questionNo}-secondOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
                    <input type="radio" id="q2-secondOption" name="q${questionNo}-firstOption" value="HTML">
                  </li>
                  <li>
                    <label for="q${questionNo}-thirdOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
                    <input type="radio" id="q${questionNo}-thirdOption" name="q${questionNo}-firstOption" value="HTML">
                  </li>
                  <li>
                    <label for="q${questionNo}-fourthOption"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
                    <input type="radio" id="q${questionNo}-fourthOption" name="q${questionNo}-firstOption" value="HTML">
                  </li>
                </ul>
                <div class="addOptionBtn">
                <span>اضافة خيار</span>
                <i class="fa-solid fa-square-plus"></i>
                </div>
                <div class="icons">
                  <i class="fa-solid fa-up-down-left-right"></i>
                  <i class="fa-solid fa-trash"></i>
                </div>
              </div>
              `
            )
            questionNo++;
          });
          
          $(".questions").on("click",'.addOptionBtn', function() {
              var optionsList = $(this).prev(".options-list");
              let name = optionsList.find('li > input').attr('name');
              let labelAttr = optionsList.find('label').attr('for');
              var newOption = $(`
              <li>
              <label for="new-question${questionNo}"><input type="text" name="optionInput" class="optionInput" placeholder="option" value="OPTION"></label>
              <input type="radio" id="new-question${questionNo}" name="${name}" value="HTML">
              </li>
              `);
              optionsList.append(newOption);
          });
       /* */

       /* */
        </script>
</body>
</html>